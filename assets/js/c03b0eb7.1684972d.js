"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8425],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return k}});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=o.createContext({}),s=function(e){var n=o.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=s(e.components);return o.createElement(p.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(t),k=a,d=u["".concat(p,".").concat(k)]||u[k]||m[k]||r;return t?o.createElement(d,i(i({ref:n},c),{},{components:t})):o.createElement(d,i({ref:n},c))}));function k(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,i=new Array(r);i[0]=u;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<r;s++)i[s]=t[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},8367:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return i},default:function(){return m},frontMatter:function(){return r},metadata:function(){return l},toc:function(){return s}});var o=t(7462),a=(t(7294),t(3905));const r={slug:"\ud68c\uc0ac-\ud504\ub85c\uc81d\ud2b8\uc5d0-mono-repo-\ub3c4\uc785\uae30",title:"\ud68c\uc0ac \ud504\ub85c\uc81d\ud2b8\uc5d0 mono-repo \ub3c4\uc785\uae30",authors:"seob",tags:["mono-repo","lerna","yarn workspace"]},i=void 0,l={permalink:"/blog/\ud68c\uc0ac-\ud504\ub85c\uc81d\ud2b8\uc5d0-mono-repo-\ub3c4\uc785\uae30",editUrl:"https://github.com/seobie/seobie.github.io/tree/main/blog/2021/11/2021-11-06-mono-repo-introduction.md",source:"@site/blog/2021/11/2021-11-06-mono-repo-introduction.md",title:"\ud68c\uc0ac \ud504\ub85c\uc81d\ud2b8\uc5d0 mono-repo \ub3c4\uc785\uae30",description:"mono-repo \ub3c4\uc785\uc744 \uacb0\uc815\ud558\uac8c \ub41c \uc774\uc720",date:"2021-11-06T00:00:00.000Z",formattedDate:"November 6, 2021",tags:[{label:"mono-repo",permalink:"/blog/tags/mono-repo"},{label:"lerna",permalink:"/blog/tags/lerna"},{label:"yarn workspace",permalink:"/blog/tags/yarn-workspace"}],readingTime:12.65,hasTruncateMarker:!0,authors:[{name:"\uc774\uc601\uc12d",title:"Frontend Engineer",url:"https://github.com/seobie",imageURL:"https://avatars.githubusercontent.com/u/67283770?v=4",key:"seob"}],frontMatter:{slug:"\ud68c\uc0ac-\ud504\ub85c\uc81d\ud2b8\uc5d0-mono-repo-\ub3c4\uc785\uae30",title:"\ud68c\uc0ac \ud504\ub85c\uc81d\ud2b8\uc5d0 mono-repo \ub3c4\uc785\uae30",authors:"seob",tags:["mono-repo","lerna","yarn workspace"]},prevItem:{title:"git action \uc790\ub3d9 \ubc30\ud3ec \uc5d0\ub7ec \ud574\uacb0\uae30 (ERROR: Invalid first code point of tag name U+C804.)",permalink:"/blog/git-action-struggles"},nextItem:{title:"\uc815\uaddc \ud45c\ud604\uc2dd \uc5b4\ub835\uc9c0 \uc54a\uc544\uc694 \ud83d\ude09",permalink:"/blog/\uc815\uaddc-\ud45c\ud604\uc2dd-\uc5b4\ub835\uc9c0-\uc54a\uc544\uc694-\ud83d\ude09"}},p={authorsImageUrls:[void 0]},s=[{value:"mono-repo \ub3c4\uc785\uc744 \uacb0\uc815\ud558\uac8c \ub41c \uc774\uc720",id:"mono-repo-\ub3c4\uc785\uc744-\uacb0\uc815\ud558\uac8c-\ub41c-\uc774\uc720",level:2},{value:"mono-repo? \ud83e\udd28",id:"mono-repo-",level:2},{value:"mono-repo\uc758 \uc7a5\uc810",id:"mono-repo\uc758-\uc7a5\uc810",level:3},{value:"Lerna",id:"lerna",level:2},{value:"Lerna repo\uc758 \uad6c\uc870",id:"lerna-repo\uc758-\uad6c\uc870",level:3},{value:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uba85\ub839\uc5b4",id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-\uba85\ub839\uc5b4",level:3},{value:"1.<strong><code>lerna bootstrap</code></strong>",id:"1lerna-bootstrap",level:4},{value:"2.<strong><code>lerna clean</code></strong>",id:"2lerna-clean",level:4},{value:"Yarn Workspace",id:"yarn-workspace",level:2},{value:"package.json \uc124\uc815",id:"packagejson-\uc124\uc815",level:3},{value:"\ud2b9\uc815 \ud328\ud0a4\uc9c0\uc5d0 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58 \ubc0f \uc0ad\uc81c\ud558\ub294\ubc95",id:"\ud2b9\uc815-\ud328\ud0a4\uc9c0\uc5d0-\ub77c\uc774\ube0c\ub7ec\ub9ac-\uc124\uce58-\ubc0f-\uc0ad\uc81c\ud558\ub294\ubc95",level:3},{value:"tsconfig.paths.json \uc124\uc815",id:"tsconfigpathsjson-\uc124\uc815",level:3},{value:"CRACO",id:"craco",level:2},{value:"craco.json \uc124\uc815",id:"cracojson-\uc124\uc815",level:3},{value:"craco \uc124\uce58",id:"craco-\uc124\uce58",level:3},{value:"\ucc38\uace0\ud55c \uae00",id:"\ucc38\uace0\ud55c-\uae00",level:4}],c={toc:s};function m(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"mono-repo-\ub3c4\uc785\uc744-\uacb0\uc815\ud558\uac8c-\ub41c-\uc774\uc720"},"mono-repo \ub3c4\uc785\uc744 \uacb0\uc815\ud558\uac8c \ub41c \uc774\uc720"),(0,a.kt)("p",null,"\ud604\uc7ac \ud68c\uc0ac\uc5d0\uc11c \ub9ac\uc561\ud2b8\ub85c \uac1c\ubc1c\uc911\uc778 \ud504\ub860\ud2b8\uc5d4\ub4dc \ud504\ub85c\uc81d\ud2b8\ub294 3\uac1c\uc774\ub2e4."),(0,a.kt)("p",null,"\ucd5c\uadfc\uae4c\uc9c0\ub294 \ubaa8\ub450 \ub2e4\ub978 Repository\uc5d0\uc11c \uac1c\ubcc4\uc801\uc73c\ub85c \uad00\ub9ac\ub97c \ud588\uc5c8\ub294\ub370, \ud504\ub85c\uc81d\ud2b8\uac00 \ubaa8\ub450 \uacf5\ud1b5\ub41c \ub514\uc790\uc778\uacfc \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\uc5c8\uae30 \ub54c\ubb38\uc5d0 A \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc218\uc815\ud558\uba74 \ud504\ub85c\uc81d\ud2b8 B\uc640 C\uc5d0\uc11c\ub3c4 \uc218\uc815\uc744 \ud574\uc918\uc57c\ub9cc \ud588\ub2e4."),(0,a.kt)("p",null,"\ud558\uc9c0\ub9cc minor\ud55c \uc218\uc815\uc778 \uacbd\uc6b0 \uc81c\ub54c \uc218\uc815\ud558\uc9c0 \uc54a\uac8c \ub418\uac70\ub098 \uc5c5\ub370\uc774\ud2b8 \ud558\ub294 \uac83\uc744 \uc78a\uac8c \ub418\uc5b4 \ud55c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c\ub9cc \uc5c5\ub370\uc774\ud2b8\ub418\ub294 \uc0c1\ud669\uc774 \ubc1c\uc0dd\ud588\uace0 \ub098\uc911\uc5d0\ub294 \ud504\ub85c\uc81d\ud2b8\uac04 \ucc28\uc774\uc810\uc744 \uc881\ud788\uae30\uac00 \uc5b4\ub824\uc6cc\uc84c\ub2e4."),(0,a.kt)("p",null,"\uc774 \ubb38\uc81c\uc810\uc744 \ud574\uacb0\ud558\uae30 \uc704\ud558\uc5ec \uacf5\ud1b5\uc801\uc73c\ub85c \uc0ac\uc6a9\ub418\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub9cc \ub530\ub85c \ubd84\ub9ac\ud558\uc5ec \ub77c\uc774\ube0c\ub7ec\ub9ac\ucc98\ub7fc \ubc30\ud3ec\ud574\uc11c \uc0ac\uc6a9\ud558\ub824\uace0\ub3c4 \ud588\uc5c8\uc9c0\ub9cc mono-repo\ub77c\ub294 \uac1c\ub150\uc744 \uc54c\uac8c \ub418\uace0 \ub098\uc11c, \uc5ec\ub7ec \uc790\ub8cc\ub97c \ub9ac\uc11c\uce58\ud574\ubcf4\uac8c \ub418\uc5c8\uace0, \uc9c0\uae08 \ub098\uc758 \uc0c1\ud669\uc5d0 \uac00\uc7a5 \uc801\ud569\ud558\ub2e4\uace0 \ud310\ub2e8\ud558\uc5ec mono-repo\ub85c \uc804\ud658\uc744 \ud558\uae30\ub85c \uc815\ud558\uc600\ub2e4."),(0,a.kt)("h2",{id:"mono-repo-"},"mono-repo? \ud83e\udd28"),(0,a.kt)("p",null,"mono\uc758 \ubc18\ub300 \uac1c\ub150\uc740 multi \uc774\ub2e4. (mono \ub294 \ud558\ub098, multi\ub294 \uc5ec\ub7ec\uac1c)"),(0,a.kt)("p",null,"\uae30\uc874 \ud504\ub85c\uc81d\ud2b8\ub9c8\ub2e4 \uac01\uc790 repository\ub97c \uac16\uace0 \uc788\uc5c8\uc73c\ubbc0\ub85c \uae30\uc874\uc758 \ud504\ub85c\uc81d\ud2b8\ub294 multi-repo \ub77c\uace0 \ubcf4\uba74 \ub41c\ub2e4."),(0,a.kt)("p",null,"mono-repo\ub294 \ub450 \uac1c \uc774\uc0c1\uc758 \ud504\ub85c\uc81d\ud2b8\ub97c \ud558\ub098\uc758 repository\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ubc29\ubc95\uc774\uace0 \uc774\ub807\uac8c \ud558\uac8c\ub418\uba74 \uac01 \ud504\ub85c\uc81d\ud2b8\ubcc4\ub85c \uc124\uce58\ub418\uc5b4\uc57c\ud558\ub294 \uacf5\ud1b5\ub41c \ud328\ud0a4\uc9c0\ub97c \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4."),(0,a.kt)("h3",{id:"mono-repo\uc758-\uc7a5\uc810"},"mono-repo\uc758 \uc7a5\uc810"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"\ucf54\ub4dc\uc758 \uc7ac\uc0ac\uc6a9")," : \ud604\uc7ac \ud504\ub85c\uc81d\ud2b8\ub294 \ubaa8\ub450 \uac19\uc740 \ub514\uc790\uc778\ud1a4\uc744 \uc0ac\uc6a9\ud558\uace0 \uac19\uc740 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\uc5c8\uae30\ub54c\ubb38\uc5d0, \uac01 repository\uc5d0 \uac19\uc740 \ucf54\ub4dc\ub97c \ubcf5\ubd99\ud574\uc57c \ud588\ub2e4. \ud558\uc9c0\ub9cc mono-repo\uc5d0\uc11c\ub294 \ud55c \uacf3\uc5d0 \uacf5\ud1b5\uc73c\ub85c \uc4f0\uc774\ub294 \uac83\ub4e4\uc744 \ubaa8\uc544\ub450\uace0 \uac01 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uac00\uc838\ub2e4 \uc4f8 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 \ucf54\ub4dc\uc758 \uc7ac\uc0ac\uc6a9\uc131\uc774 \uc88b\uc544\uc9c4\ub2e4."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"\uc758\uc874\uc131 \uad00\ub9ac")," : \uba40\ud2f0\ub808\ud3ec\uc5d0\uc11c\ub294 \uac01 \ud504\ub85c\uc81d\ud2b8\ub9c8\ub2e4 ",(0,a.kt)("inlineCode",{parentName:"li"},"typescript"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"prettier"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"eslint"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"husky")," \ub4f1.. \ud504\ub85c\uc81d\ud2b8 \uc124\uc815\uc5d0 \ud544\uc694\ud55c \uc678\ubd80 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ub3d9\uc77c\ud558\uac8c \uc124\uce58\ud558\uace0 \ub3d9\uc77c\ud558\uac8c \uc124\uc815\ud574\uc8fc\uc5b4\uc57c \ud588\uc9c0\ub9cc, \ub8e8\ud2b8\uc5d0\uc11c \ud328\ud0a4\uc9c0\ub97c \uad00\ub9ac\ud558\uac8c \ub418\uc5b4 \ud328\ud0a4\uc9c0\uc758 \ubc84\uc804\uc774\ub098 \uc758\uc874\uc131 \uad00\ub9ac\uac00 \uc6a9\uc774\ud574\uc9c4\ub2e4.")),(0,a.kt)("h2",{id:"lerna"},(0,a.kt)("a",{parentName:"h2",href:"https://github.com/lerna/lerna#about"},"Lerna")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Splitting up large codebases into separate independently versioned packages is extremely useful for code sharing. However, making changes across many repositories is messy and difficult to track, and testing across repositories becomes complicated very quickly."),(0,a.kt)("br",null),(0,a.kt)("br",null),"To solve these (and many other) problems, some projects will organize their codebases into multi-package repositories (sometimes called monorepos). Projects like Babel, React, Angular, Ember, Meteor, Jest, and many others develop all of their packages within a single repository.",(0,a.kt)("br",null),(0,a.kt)("br",null)," **Lerna is a tool that optimizes the workflow around managing multi-package repositories with git and npm.** ",(0,a.kt)("br",null),(0,a.kt)("br",null),"Lerna can also reduce the time and space requirements for numerous copies of packages in development and build environments - normally a downside of dividing a project into many separate NPM packages. See the hoist documentation for details."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/lerna/lerna#about"},"Lerna \uacf5\uc2dd\ubb38\uc11c"),"\ub97c \ubcf4\uba74 \uc124\uba85\uc774 \uc790\uc138\ud788 \ub098\uc640\uc788\ub294\ub370 \ud575\uc2ec\uc740 ",(0,a.kt)("strong",{parentName:"p"},"bold"),"\ucc98\ub9ac\ub41c \ubd80\ubd84\uc774\ub2e4. git\uacfc npm\uc744 \uc0ac\uc6a9\ud558\uc5ec multi-repo\ub97c \uad00\ub9ac\ud558\ub294 \uc791\uc5c5\uacfc\uc815\uc744 \ucd5c\uc801\ud654\ud558\ub294 \ub3c4\uad6c\ub77c\uace0 \uc18c\uac1c\ud55c\ub2e4."),(0,a.kt)("p",null,"lerna\ub294 mono-repo\uc758 \uac1c\ub150\uc744 \uad6c\ud604\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c \uc6b0\ub9ac\uac00 \uc798 \uc544\ub294 facebook\uc758 ",(0,a.kt)("inlineCode",{parentName:"p"},"create-react-app"),"\uc774\ub098, ",(0,a.kt)("inlineCode",{parentName:"p"},"storybook")," \ub4f1 \uc720\uba85\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac\ub3c4 \ub7ec\ub098\ub97c \uc0ac\uc6a9\uc911\uc774\ub2e4."),(0,a.kt)("h3",{id:"lerna-repo\uc758-\uad6c\uc870"},"Lerna repo\uc758 \uad6c\uc870"),(0,a.kt)("p",null,"\ud604\uc7ac \uc6b0\ub9ac \ud504\ub85c\uc81d\ud2b8\uc758 \uad6c\uc870\ub294 \uc774\ub7f0\uc2dd\uc73c\ub85c \uad6c\uc131\ub418\uc5b4\uc788\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"mono-repo-project/\n\u251c\u2500 node_modules/\n\u251c\u2500 packages/\n\u2502  \u251c\u2500 common/\n\u2502  \u2502  \u251c\u2500 node_modules/\n\u2502  \u2502  \u251c\u2500 ...\n\u2502  \u2502  \u2514\u2500 package.json\n\u2502  \u251c\u2500 project-1/\n\u2502  \u2502  \u251c\u2500 node_modules/\n\u2502  \u2502  \u251c\u2500 ...\n\u2502  \u2502  \u2514\u2500 package.json\n\u2502  \u2514\u2500 project-2/\n\u2502  \u2502  \u251c\u2500 node_modules/\n\u2502  \u2502  \u251c\u2500 ...\n\u2502  \u2502  \u2514\u2500 package.json\n\u251c\u2500 lerna.json\n\u2514\u2500 package.json\n")),(0,a.kt)("h3",{id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-\uba85\ub839\uc5b4"},"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uba85\ub839\uc5b4"),(0,a.kt)("h4",{id:"1lerna-bootstrap"},"1.",(0,a.kt)("a",{parentName:"h4",href:"https://github.com/lerna/lerna/tree/main/commands/bootstrap"},(0,a.kt)("strong",{parentName:"a"},(0,a.kt)("inlineCode",{parentName:"strong"},"lerna bootstrap")))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\uac01\uac01\uc758 \ud328\ud0a4\uc9c0\uc5d0 \uba85\uc2dc\ub41c \ub514\ud39c\ub358\uc2dc\ub97c \uc124\uce58\ud558\uace0 \ud328\ud0a4\uc9c0\ub4e4 \ub0b4\uc5d0\uc11c \ud2b9\uc815 \ubaa8\ub4c8\uc774 \ud544\uc694\ub85c \ud558\ub294 \ubc84\uc804\uacfc \uc2e4\uc81c \ubaa8\ub4c8 \ubc84\uc804\uc774 \ub3d9\uc77c\ud558\ub2e4\uba74 \ubd88\ud544\uc694\ud55c \ub2e4\uc6b4\ub85c\ub4dc \uc5c6\uc774 \uc11c\ub85c \uc2ec\ub9c1\ud06c\ub97c \uac78\uc5b4 \ub85c\uceec\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4 (\uc2ec\ubcfc\ub9ad\ub9c1\ud06c)")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/67283770/140882461-a3a7f6a1-0afb-48cd-ac8f-2062a1e3b65e.png",alt:"image"})),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u2014hoist"),"\xa0\uc635\uc158(\ud50c\ub798\uadf8)\uc744 \uc0ac\uc6a9\ud55c\ub2e4\uba74 \uacf5\ud1b5\ub418\ub294 \ubaa8\ub4c8\uc744 \ub8e8\ud2b8\uc758\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"node_modules"),"\xa0\ub85c \uc62c\ub824\uc11c \uc124\uce58\ud558\uace0, \ub9cc\uc57d \uac01\uac01\uc758 \ud328\ud0a4\uc9c0\uac00 \uc11c\ub85c\ub2e4\ub978 \ubc84\uc804\uc758 \uc678\ubd80 \ub514\ud39c\ub358\uc2dc\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74 \uac00\uc7a5 \ub9ce\uc774 \uc0ac\uc6a9\ub418\uace0 \uc788\ub294 \ubc84\uc804\uc774 \ud638\uc774\uc2a4\ud305 \ub418\uace0 \uad00\ub828\ub41c \uacbd\uace0\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \ud638\uc774\uc2a4\ud305\uc744 \uc798 \uc774\uc6a9\ud55c\ub2e4\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \uc774\uc810\uc744 \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. (yarn worspaces\ub97c \uc124\uba85\ud560 \ub54c \uc790\uc138\ud788 \uc124\uba85\ud569\ub2c8\ub2e4)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\ubaa8\ub4e0 \ud328\ud0a4\uc9c0\ub294 \uc8fc\uc5b4\uc9c4 \uc885\uc18d\uc131\uc758 \ub3d9\uc77c\ud55c \ubc84\uc804\uc744 \uc0ac\uc6a9\ud55c\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"GreenKeeper\uc640 \uac19\uc740 \uc790\ub3d9\ud654 \ub41c \ub3c4\uad6c\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub8e8\ud2b8\uc758 \uc885\uc18d\uc131\uc744 \ucd5c\uc2e0 \uc0c1\ud0dc\ub85c \uc720\uc9c0\ud560 \uc218 \uc788\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"\uc885\uc18d\uc131 \uc124\uce58 \uc2dc\uac04\uc774 \uc904\uc5b4\ub4e0\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"\uc800\uc7a5 \uacf5\uac04\uc774 \ub35c \ud544\uc694\ud558\ub2e4.")),(0,a.kt)("h4",{id:"2lerna-clean"},"2.",(0,a.kt)("strong",{parentName:"h4"},(0,a.kt)("inlineCode",{parentName:"strong"},"lerna clean"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"packages")," \ud558\uc704 \ud3f4\ub354 \uc548\uc5d0 \uc788\ub294 ",(0,a.kt)("inlineCode",{parentName:"li"},"node_modules")," \ud3f4\ub354\ub97c \uc0ad\uc81c\ud55c\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"\ub8e8\ud2b8\uc758 ",(0,a.kt)("inlineCode",{parentName:"li"},"node_modules")," \ub294 \uc0ad\uc81c\ud558\uc9c0 \uc54a\ub294\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"clean build\uc758 \ubaa9\uc801\uc73c\ub85c \uc0ac\uc6a9")),(0,a.kt)("h2",{id:"yarn-workspace"},(0,a.kt)("a",{parentName:"h2",href:"https://classic.yarnpkg.com/lang/en/docs/workspaces/"},"Yarn Workspace")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Workspaces are a new way to set up your package architecture that\u2019s available by default starting from Yarn 1.0. It allows you to setup multiple packages in such a way that you only need to run ",(0,a.kt)("inlineCode",{parentName:"p"},"yarn install")," once to install all of them in a single pass.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\ubaa8\ub178\ub808\ud3ec\uc758 \uac01 \ud328\ud0a4\uc9c0\ub9c8\ub2e4 \uac00\uc9c0\uace0 \uc788\ub294\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"node_modules"),"\xa0\uac00 \ub8e8\ud2b8\uc758\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"node_modules"),"\xa0\ub97c \ucc38\uc870\ud55c\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"\ubcc4\ub3c4\uc758 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc124\uce58\ud560 \ud544\uc694 \uc5c6\uc774 yarn\uc5d0 \ub0b4\uc7a5\ub41c \uae30\ub2a5\uc774\ub2e4."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"yarn install")," \ud639\uc740 ",(0,a.kt)("inlineCode",{parentName:"li"},"yarn")," \uc744 \uc2e4\ud589\ud558\uba74 \ub8e8\ud2b8\uc758 package.json\uc548\uc5d0 \uba85\uc2dc\ub418\uc5b4 \uc788\ub294 dependency, \uadf8\ub9ac\uace0 \uac01 \ud328\ud0a4\uc9c0\uc5d0 \uba85\uc2dc\ub418\uc5b4\uc788\ub294 dependency\uac00 \uc911\ubcf5\uc744 \ucd5c\ub300\ud55c \uc904\uc778 \ucc44 \ub8e8\ud2b8\uc758 node_modules\uc548\uc5d0\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"\ud638\uc774\uc2a4\ud305"),"\xa0\ub418\uc5b4\uc11c \uc124\uce58\ub418\uace0 dependency\ub85c \uba85\uc2dc \ub418\uc5b4\uc788\ub294 \ubaa8\ub4c8\uc740 \uc2ec\ub9c1\ud06c\uac00 \uac78\ub824 npm\uc5d0 \ubc30\ud3ec\ub418\uc5b4\uc788\ub294 \ubc84\uc804\uc774 \uc544\ub2c8\ub77c \ub85c\uceec\uc5d0 \uc788\ub294 \ucf54\ub4dc\ub97c \ubc14\ub85c \ubcfc \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4.")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://miro.medium.com/max/1400/1*uGcDMXSuT1LYa0Ex8kOuaw.png",alt:"image"}),"\n",(0,a.kt)("em",{parentName:"p"},"from ",(0,a.kt)("a",{parentName:"em",href:"https://classic.yarnpkg.com/"},"https://classic.yarnpkg.com/"))),(0,a.kt)("h3",{id:"packagejson-\uc124\uc815"},"package.json \uc124\uc815"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="package.json"',title:'"package.json"'},'{\n  "name": "mono-repo",\n  "version": "1.0.0",\n  "main": "index.js",\n  "license": "MIT",\n  "private": true, // true\ub85c \uc124\uc815\ub418\uc5b4\uc57c yarn workspace\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.\n  "workspaces": {\n    "packages": [\n      "packages/*" // workspace \uacbd\ub85c \uc124\uc815\n    ]\n  },\n  "scripts": {\n    "common": "yarn workspace @mono-repo/common",\n    "project-1": "yarn workspace @mono-repo/project-1", // \uba85\ub839\uc5b4\ub97c \uc9e7\uac8c \ud558\uae30 \uc704\ud574 \ucd94\uac00\ud574\uc92c\ub2e4.\n    ...\n  }\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="packages/common/package.json"',title:'"packages/common/package.json"'},'{\n  "name": "@mono-repo/common", // yarn workspace \uc5d0\uc11c \uc4f0\uc77c \uc774\ub984\n  "version": "1.0.0",\n  "main": "index.js",\n  "license": "MIT",\n  "private": true,\n  "dependencies": {\n    ...\n  },\n  "devDependencies": {\n    ...\n  },\n  ...\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="packages/project-1/package.json"',title:'"packages/project-1/package.json"'},'{\n  "name": "@mono-repo/project-1", // yarn workspace \uc5d0\uc11c \uc4f0\uc77c \uc774\ub984\n  "version": "1.0.0",\n  "private": true,\n  "dependencies": {\n    "@mono-repo/common": "1.0.0", // common \ud328\ud0a4\uc9c0\uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud574 \ucd94\uac00\ud574\uc57c\ud55c\ub2e4.\n    ...\n  },\n ...\n}\n')),(0,a.kt)("h3",{id:"\ud2b9\uc815-\ud328\ud0a4\uc9c0\uc5d0-\ub77c\uc774\ube0c\ub7ec\ub9ac-\uc124\uce58-\ubc0f-\uc0ad\uc81c\ud558\ub294\ubc95"},"\ud2b9\uc815 \ud328\ud0a4\uc9c0\uc5d0 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58 \ubc0f \uc0ad\uc81c\ud558\ub294\ubc95"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-console"},"// @mono-repo/project-1 \uc5d0 react \uc124\uce58\n$ yarn workspace @mono-repo/project-1 add react\n// \ud639\uc740\n$ yarn project-1 add react // package.jsos > scrripts\n\n// @mono-repo/project-1 \uc5d0\uc11c react \uc81c\uac70\n$ yarn workspace @mono-repo/project-1 remove react\n// \ud639\uc740\n$ yarn project-1 remove react\n\n// \ub8e8\ud2b8 package.json > devDependancies\uc5d0 react \ucd94\uac00\n$ yarn add -W -D react\n// -W \uac00 \uc5c6\uc73c\uba74 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud55c\ub2e4\n// error Running this command will add the dependency to the workspace root rather than the workspace itself, which might not be what you want - if you really meant it, make it explicit by running this command again with the -W flag (or --ignore-workspace-root-check).\n// info Visit https://yarnpkg.com/en/docs/cli/add for documentation about this command.\n")),(0,a.kt)("h3",{id:"tsconfigpathsjson-\uc124\uc815"},"tsconfig.paths.json \uc124\uc815"),(0,a.kt)("p",null,"\ud504\ub85c\uc81d\ud2b8\uac00 \ubaa8\ub450 ",(0,a.kt)("inlineCode",{parentName:"p"},"typescript"),"\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\uc73c\ubbc0\ub85c ",(0,a.kt)("inlineCode",{parentName:"p"},"tsconfig.json"),"\ub3c4 \uc124\uc815\ud574\uc8fc\uc5b4\uc57c \ud55c\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="packages/project-1/tsconfig.paths.json"',title:'"packages/project-1/tsconfig.paths.json"'},'{\n  "compilerOptions": {\n    "baseUrl": "./src",\n    "paths": {\n      "@mono-repo/common/*": ["../../common/src/*"],\n      ...\n    }\n  }\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="packages/project-1/tsconfig.json"',title:'"packages/project-1/tsconfig.json"'},'{\n  "extends": "./tsconfig.paths.json",\n  "compilerOptions": {\n    ...\n  },\n  ...\n}\n')),(0,a.kt)("h2",{id:"craco"},(0,a.kt)("a",{parentName:"h2",href:"https://github.com/gsoft-inc/craco/blob/master/packages/craco/README.md#craco--"},"CRACO")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Create React App Configuration Override is an easy and comprehensible configuration layer for create-react-app."),(0,a.kt)("br",null),(0,a.kt)("br",null),"Get all the benefits of create-react-app and customization without using 'eject' by adding a single configuration (e.g. craco.config.js) file at the root of your application and customize your eslint, babel, postcss configurations and many more.",(0,a.kt)("br",null),(0,a.kt)("br",null),"All you have to do is create your app using create-react-app and customize the configuration file."),(0,a.kt)("h3",{id:"cracojson-\uc124\uc815"},"craco.json \uc124\uc815"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"project-1")," , ",(0,a.kt)("inlineCode",{parentName:"p"},"project-2")," \ubaa8\ub450 CRA \ud15c\ud50c\ub9bf \ubca0\uc774\uc2a4\uc758 \ud504\ub85c\uc81d\ud2b8\ub77c\uace0 \ud55c\ub2e4\uba74, CRA \ud504\ub85c\uc81d\ud2b8\uc758 CRA config\uc5d0\uc11c\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"src")," \ud3f4\ub354\ubcf4\ub2e4 \uc0c1\uc704\uc758 \ud3f4\ub354\uc5d0\uc11c \ud30c\uc77c\uc744 ",(0,a.kt)("inlineCode",{parentName:"p"},"import")," \ud560 \uc218 \uc5c6\ub3c4\ub85d \uc124\uc815\uc774 \ub418\uc5b4\uc788\uc5b4\uc11c config\ub97c overide \ud574\uc8fc\uc5b4\uc57c\ud55c\ub2e4."),(0,a.kt)("h3",{id:"craco-\uc124\uce58"},"craco \uc124\uce58"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-console"},"$ yarn workspace project-1 add @craco/craco\n## OR\n$ npm project-1 add @craco/craco\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"craco.config.js"),"\ud30c\uc77c\uc744 \ud504\ub85c\uc81d\ud2b8 \ub8e8\ud2b8(",(0,a.kt)("inlineCode",{parentName:"p"},"packages/project-1"),")\uc5d0 \uc0dd\uc131\ud558\uace0 ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json")," \ud30c\uc77c \uc548\uc5d0 ",(0,a.kt)("inlineCode",{parentName:"p"},"scripts"),"\ub97c \ub2e4\uc74c\uacfc \uac19\uc774 \uc218\uc815\ud574\uc900\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="packages/project-1/package.json"',title:'"packages/project-1/package.json"'},'"scripts": {\n-   "start": "react-scripts start",\n+   "start": "craco start",\n-   "build": "react-scripts build",\n+   "build": "craco build"\n-   "test": "react-scripts test",\n+   "test": "craco test"\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="packages/project-1/craco.config.js"',title:'"packages/project-1/craco.config.js"'},"const TsconfigPathsPlugin = require('tsconfig-paths-webpack-plugin');\nconst ForkTSCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\n\nmodule.exports = {\n  eslint: { enable: false },\n  webpack: {\n    configure: (config) => {\n      // Remove ModuleScopePlugin which throws when we try to import something\n      // outside of src/.\n      config.resolve.plugins.pop();\n\n      // Resolve the path aliases.\n      config.resolve.plugins.push(new TsconfigPathsPlugin());\n\n      // Let Babel compile outside of src/.\n      const oneOfRule = config.module.rules.find((rule) => rule.oneOf);\n      const tsRule = oneOfRule.oneOf.find((rule) =>\n        rule.test.toString().includes('ts|tsx')\n      );\n\n      tsRule.include = undefined;\n      tsRule.exclude = /node_modules/;\n\n      return config;\n    },\n    plugins: {\n      remove: [\n        // This plugin is too old and causes problems in monorepos. We'll\n        // replace it with a newer version.\n        'ForkTsCheckerWebpackPlugin',\n      ],\n      add: [\n        // Use newer version of ForkTSCheckerWebpackPlugin to type check\n        // files across the monorepo.\n        new ForkTSCheckerWebpackPlugin({\n          issue: {\n            // The exclude rules are copied from CRA.\n            exclude: [\n              {\n                file: '**/src/**/__tests__/**',\n              },\n              {\n                file: '**/src/**/?(*.)(spec|test).*',\n              },\n              {\n                file: '**/src/setupProxy.*',\n              },\n              {\n                file: '**/src/setupTests.*',\n              },\n            ],\n          },\n        }),\n      ],\n    },\n  },\n  jest: {\n    configure: {\n      moduleDirectories: ['<rootDir>/', 'src', 'node_modules'],\n      moduleNameMapper: {\n        '^.+\\\\.(scss)$': '<rootDir>/../hrm-frontend/src/mocks/styleMock.js',\n        // '^.+\\\\.(gif|ttf|eot|svg|png)$':\n        //   '<rootDir>/../packages/hrm-frontend/src/mocks/fileMock.ts',\n        '^@inssait-mono-repo/common/(.*)$': [\n          '<rootDir>/../common/src/$1.ts',\n          '<rootDir>/../common/src/$1.tsx',\n        ],\n      },\n    },\n\n    //Jest can not find any module with absoulte path without this option include \"src\"\n    transformIgnorePatterns: [\n      '/node_modules/(?!antd|@ant-design|rc-.+?|@babel/runtime).+(js|jsx)$',\n    ],\n    collectCoverageFrom: [\n      './src/components/**/*.tsx',\n      './src/features/**/*.ts',\n      './src/pages/**/*.tsx',\n      './src/pages/**/*.ts',\n    ],\n  },\n};\n")),(0,a.kt)("h4",{id:"\ucc38\uace0\ud55c-\uae00"},"\ucc38\uace0\ud55c \uae00"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/wantedjobs/lerna%EC%99%80-yarn-workspaces%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%8C%A8%ED%82%A4%EC%A7%80-%EA%B4%80%EB%A6%AC-429d2a685486"},"Lerna\uc640 Yarn workspaces\ub97c \ud65c\uc6a9\ud55c \ud328\ud0a4\uc9c0 \uad00\ub9ac")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://lerna.js.org/"},"Lerna \xb7 A tool for managing JavaScript projects with multiple packages.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://musma.github.io/2019/04/02/yarn-workspaces.html"},"[Node] yarn workspaces (\ud504\ub85c\uc81d\ud2b8 \ucc38\uc870)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://jojoldu.tistory.com/585"},"Lerna\uc640 yarn-workspace\ub97c \ud65c\uc6a9\ud55c Mono Repo (Typescript & Jest) \ud658\uacbd \uad6c\uc131\ud558\uae30")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/devityoself/monorepo-eslint-vscode-6f5982c8404d"},"Monorepo eslint vscode")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.linkedin.com/pulse/microfrontends-integrating-create-react-app-cra-eject-rany?trk=articles_directory"},"Microfrontends: Integrating with a create-react-app (CRA) project without eject using CRACO (Create-React-App Configuration Override)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/@deptno/monorepo-yarn-workspace-e81e3e078100"},"Monorepo? Yarn Workspace!")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/@deptno/%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%AA%A8%EB%85%B8%EB%A0%88%ED%8F%AC-8ba1f1757345"},"\ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8 \ubaa8\ub178\ub808\ud3ec")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://kdydesign.github.io/2020/08/27/mono-repo-lerna-example/"},"Lerna\ub97c \ud65c\uc6a9\ud55c Mono-Repo \uad6c\ucd95 \uc644\ubcbd \uac00\uc774\ub4dc - \uc608\uc81c\ub97c \ud1b5\ud55c \uc644\ubcbd \ud30c\uc545")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/gsoft-inc/craco/blob/master/packages/craco/README.md#installation"},"craco/README.md at master \xb7 gsoft-inc/craco")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://valcker.medium.com/configuring-typescript-monorepo-with-eslint-prettier-and-webstorm-61a71f218104"},"Configuring TypeScript Monorepo with ESLint, Prettier and WebStorm")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://awesomezero.com/development/lerna_and_yarn_workspace/"},"Lerna\uc640 Yarn workspaces\ub97c \ud65c\uc6a9\ud55c \ud328\ud0a4\uc9c0 \uad00\ub9ac - zero's \uc774\ubaa8\uc800\ubaa8")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://frontend-digest.com/using-create-react-app-in-a-monorepo-a4e6f25be7aa"},"Using Create-React-App In A Monorepo")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/@deptno/monorepo-yarn-workspace-e81e3e078100"},"Monorepo? Yarn Workspace!")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://velog.io/@younuk23/React-Native-CRA-MonoRepo-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0"},"React-Native + CRA MonoRepo \ud658\uacbd \uad6c\ucd95\ud558\uae30")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/@NiGhTTraX/how-to-set-up-a-typescript-monorepo-with-lerna-c6acda7d4559"},"How to set up a TypeScript monorepo with Lerna"))))}m.isMDXComponent=!0}}]);